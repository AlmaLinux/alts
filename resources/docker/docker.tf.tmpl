provider "docker" {
  host = "unix:///run/docker.sock"
}

resource "docker_container" "${container_name}" {
  image = docker_image.${dist_name}.latest
  name = "${container_name}"
  must_run = true
  command = ["/run.sh",]
  volumes {
    host_path = "${work_dir}/run.sh"
    container_path = "/run.sh"
  }
}

resource "docker_image" "${dist_name}" {
  name          = "${dist_name}:${dist_version}"
  keep_locally = true
}
